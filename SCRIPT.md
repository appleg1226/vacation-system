# 휴가 신청 시스템 및 시나리오 설명

## Spring 프로젝트 개요
- Java8, Springboot(2.4.0), Spring Data JPA, Spring Security, jjwt, MySQL
- local Docker Container에 Mysql을 띄워서 테스트. vacation, vacation_test 두 가지 데이터베이스를 생성하여 연결하였음.
- spring application은 8080 포트를 사용

## 시나리오  
### 1. 로그인
로그인을 제외한 모든 API 호출은 `로그인 API`를 호출한 뒤, 
해당 response에 존재하는 `token`을 `header`에 포함하여야 한다.

### 2. 공휴일 관련
공휴일이 휴가 신청 기간 중에 끼어있을 경우 자동으로 공휴일 기간을 휴가 기간에서 제외한다.  
2020 공휴일은 이미 시스템에 등록해 놓았지만 필요할 경우 `공휴일 추가 API`를 이용해서 추가할 수 있으며,  
필요할 경우 `공휴일 조회 API`를 이용하여 등록된 공휴일을 확인할 수 있다.

### 3. 휴가 신청
1. `로그인 API` 호출. 호출하여 얻은 `Token`을 이후 요청들의 `header`에 포함한다.
2. `남은 휴가 날짜 조회 API`를 호출하여 휴가 여부를 확인한다.
3. 휴가 유형과 날짜, 세부 내용을 넣은 뒤 `휴가 신청 API`를 호출한다. 이 과정에서 주말과 공휴일은 휴가 일수에서 제외되어 계산된다.
4. 성공적으로 호출할 경우 `남은 휴가 날짜`를 응답으로 받는다.
5. 신청한 휴가 날짜가 현재 날짜보다 앞이거나, 남은 연차가 모자랄 경우에는 `406 error`를 반환한다.  

### 4. 휴가 취소
1. `로그인 API` 호출. 호출하여 얻은 `Token`을 이후 요청들의 `header`에 포함한다.
2. `신청한 휴가 목록 조회 API를 호출`하여 해당 해에 신청한 연차의 목록을 확인한다. 
3. 조회된 목록에는 `취소하기를 원하는 휴가의 ID`가 있으며 이를 이용해 `휴가 취소 API`를 호출한다.
4. 성공적으로 호출할 경우 `남은 휴가 날짜`를 응답으로 받는다.
5. 신청한 휴가 날짜가 현재 날짜보다 앞일 경우에는 `406 error`를 반환한다.
